(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{27:function(e,t,n){e.exports=n(40)},36:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(13),u=n.n(r),l=n(8),i=n(9),o=(n(36),n(19)),s=n.n(o),m=n(26),f=n(2),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CLUB":return t.clubs;default:return e}},p=(n(38),function(){return c.a.createElement("div",{className:"start"},c.a.createElement(i.b,{className:"start__link",to:{pathname:"/clubs"}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u043b\u0443\u0431"))}),E=n(22),h=n(16),v=n(11),d=function(e){return e.clubs},j=Object(v.b)({clubs:b}),O=Object(v.c)(j),y=function(e){var t=e.filters,n=e.callback,a=e.type;return c.a.createElement("div",{className:a},t.map((function(e){return c.a.createElement("button",{className:"button",type:"button",key:e,onClick:function(){return n(e)}},e)})))},k=function(e){var t=e.list;return c.a.createElement("ul",null,t.map((function(e){return c.a.createElement("li",{key:e.link},c.a.createElement("a",{href:e.link},c.a.createElement("img",{src:e.logo,alt:e.title_short}),c.a.createElement("h3",null,e.title)))})))},N=function(){var e=Object(l.c)(d),t=Object(a.useState)(""),n=Object(h.a)(t,2),r=n[0],u=n[1],i=Object(a.useState)(""),o=Object(h.a)(i,2),s=o[0],m=o[1],f=Object(a.useState)([]),b=Object(h.a)(f,2),p=b[0],v=b[1],j=Object(a.useCallback)((function(){return function(){var t=e.map((function(e){return e.city.title}));v(Object(E.a)(new Set(t)))}()}),[e]);Object(a.useEffect)((function(){j()}),[j]);var O=Object(a.useMemo)((function(){return e.filter((function(e){return e.city.title.includes(r)&&e.activity.find((function(e){return Boolean(e.title.includes(s))}))}))}),[e,r,s]),N=Object(a.useMemo)((function(){return function(){var e=O.map((function(e){return e.activity})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.title}));return Object(E.a)(new Set(e))}()}),[O]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u043b\u0443\u0431 \u043f\u043e \u0433\u043e\u0440\u043e\u0434\u0443 \u0438\u043b\u0438 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e"),c.a.createElement("div",{className:"app"},c.a.createElement("button",{className:"button",type:"button",onClick:function(){m(""),u("")}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u043a\u043b\u0443\u0431\u044b \u0438 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),c.a.createElement("h2",null,"\u0413\u043e\u0440\u043e\u0434\u0430:"),c.a.createElement(y,{filters:p,callback:function(e){u(e!==r?e:"")},type:"city"}),c.a.createElement("h2",null,"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f:"),c.a.createElement(y,{filters:N,callback:function(e){m(e!==s?e:"")},type:"activity"}),c.a.createElement(k,{list:O})))},w=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://instasport.co/dashboard/api/v1/clubs/?format=json").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var g=function(){var e=Object(l.b)();return Object(a.useEffect)((function(){w().then((function(t){e({type:"INIT_CLUB",clubs:t})}))})),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(f.d,null,c.a.createElement(f.b,{path:"/",exact:!0},c.a.createElement(p,null)),c.a.createElement(f.b,{path:"/clubs"},c.a.createElement(N,null)),c.a.createElement(f.a,{from:"/home",to:"/"}))))};u.a.render(c.a.createElement(l.a,{store:O},c.a.createElement(i.a,null,c.a.createElement(g,null))),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.24f3c39f.chunk.js.map